---
# Mealie is a self hosted recipe manager and meal planner with a RestAPI backend
# and a reactive frontend application built in Vue for a pleasant user
# experience for the whole family. Easily add recipes into your database by
# providing the url and mealie will automatically import the relevant data or
# add a family recipe with the UI editor
#   https://mealie.io/
# -----
# VERSIONS:
#   * https://github.com/mealie-recipes/mealie/pkgs/container/mealie
#   * => See tailscale role versions
# -----
mealie_managed: false
mealie_enabled: false
mealie_version:       # Leave blank to leverage bookshelf configuration
mealie_compose_dir:   # Unless you know ..., leave blank to leverage bookshelf configuration
mealie_owner: "{{ ansible_user_id }}"
mealie_conf_dir: ~/conf/mealie
mealie_service_name: mealie
mealie_hostname: "{{ mealie_service_name }}"
mealie_vhost: "{{ mealie_service_name }}.domain.local"
# Can disable ports if plan to access only via tailnet or reverse-proxy
mealie_web_ui_port:   # Leave blank for bookshelf default, or '-1' to not expose the port
mealie_tz: "{{ ansible_date_time.tz | default('UTC', true) }}"
# Optional extra env vars, will affect both Mealie and tailscale.
mealie_extra_env: |   # "{{ lookup('template', playbook_dir + '/resources/mealie.env.j2') }}"
  # References:
  #   * https://docs.mealie.io/documentation/getting-started/installation/backend-config/
  #   * https://tailscale.com/kb/1282/docker#parameters
  # ----------
  # ALLOW_SIGNUP=false
# ----------
# The following settings configure Mealie to run as a part of tailnet
#
# IMPORTANT 1: See IMPORTANTs in tailscale service description
mealie_tailscaled: false
mealie_ts_version:          # Leave blank to leverage bookshelf configuration
mealie_ts_service_name: "{{ mealie_service_name }}-ts"
mealie_ts_funnelled: false  # Expose to the world via TS funnel. Use with caution
# Hostname within tailnet
mealie_ts_hostname: "{{ mealie_service_name }}"
mealie_ts_auth_key:
