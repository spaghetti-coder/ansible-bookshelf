---
# A modern, open-source, self-hosted knowledge management and note-taking
# platform designed for privacy-conscious users and organizations.
#   https://www.usememos.com/
# -----
# VERSIONS:
#   * https://hub.docker.com/r/neosmemo/memos/tags
#   * => See tailscale role versions
# -----
memos_managed: false
memos_enabled: false
memos_version:        # Leave blank to leverage bookshelf configuration
memos_compose_dir:    # Unless you know ..., leave blank to leverage bookshelf configuration
memos_owner: "{{ ansible_user_id }}"
memos_conf_dir: ~/conf/memos
memos_service_name: memos
memos_hostname: "{{ memos_service_name }}"
memos_vhost: "{{ memos_service_name }}.domain.local"
# Can disable ports if plan to access only via tailnet or reverse-proxy
memos_web_ui_port:    # Leave blank for bookshelf default, or '-1' to not expose the port
# Optional extra env vars, will affect both Memos and tailscale.
memos_extra_env: |    # "{{ lookup('template', playbook_dir + '/resources/memos.env.j2') }}"
  # References:
  #   * https://www.usememos.com/docs/configuration
  #   * https://tailscale.com/kb/1282/docker#parameters
  # ----------
  # MEMOS_MAX_LOGIN_ATTEMPTS=5
  # MEMOS_LOCKOUT_DURATION=900
# ----------
# The following settings configure Memos to run as a part of tailnet
#
# IMPORTANT 1: See IMPORTANTs in tailscale service description
memos_tailscaled: false
memos_ts_version:           # Leave blank to leverage bookshelf configuration
memos_ts_service_name: "{{ memos_service_name }}-ts"
memos_ts_funnelled: false   # Expose to the world via TS funnel. Use with caution
# Hostname within tailnet
memos_ts_hostname: "{{ memos_service_name }}"
memos_ts_auth_key:
