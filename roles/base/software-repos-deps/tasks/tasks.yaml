---
- name: Privileged
  become: true
  block:
    - name: Create keyrings directory
      ansible.builtin.file:
        path: "{{ software_repos_deps_keyrings_dir }}"
        state: directory
        mode: '0755'
      when: factum_os_family in ['debian']

    - name: Install packages
      ansible.builtin.package:
        name:
          # - ca-certificates   # <- Not needed when downloading asc keys directly
          - gnupg2
      when: |                   # <- Not required by ubuntu 24.04
        factum_os_like in ['debian']
        or factum_os_family in ['redhat']

- name: Mark dones
  ansible.builtin.set_fact:
    software_repos_deps_done: true
